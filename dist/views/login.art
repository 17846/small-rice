<html>
	<head>
		<meta charset="utf-8">
		<title>小米账号 - 登录</title>
		<link rel="icon" type="/image/x-icon" href="/public/img/favicon.ico" >
		<script src="/public//js/jquery.js" type="text/javascript" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="/public/css/iconfont.css"/>
		<style type="text/css">
			body,html,ul,ol,h1,h2,h3,h4,h5,span,a,li,p,div,img,table,tr,th,td{
				margin: 0;
				padding: 0;
			}
			#box{
				width: 100%;
				min-width: 1130px;
			}
			.title{
				width: 1130px;
				height: 100px;
				margin: 0 auto;
			}
			.title a{
				display: block;
				position: relative;
				width: 210px;
				height: 50px;
				background-color: red;
				background-image: url(/public/img/loginTitle.png);
				top: 25px;
			}
			.center{
				width: 100%;
				height: 584px;
				background: no-repeat center center;
				background-image: url(/public/img/neironglg.png);
			}
			@media all and(min-width:1130px) {
				.center{
					background-image: url(/public/img/neironglg.png);
				}
			}
			@media all and(max-width:1130px) {
				.center{
					background-image: url(/public/img/neirong.png);
				}
			}
			.delicicous{
				width: 1130px;
				height: 584px;
				margin: 0 auto;
				position: relative;
			}
			.login{
				width: 415px;
				height: 550px;
				position: absolute;
				background-color: white;
				right: 0;
				top: 34px;
			}
			.method{
				width: 350px;
				text-align: center;
				font-size: 24px;
				margin-top: 30px;
				color: #dfdfdf;
				padding: 0 32px;
			}
			.method a{
				color: #666666;
				text-decoration: none;
			}
			.method a:hover{
				color: #f67000;
			}
			.active{
				color: #f67000!important;
			}
			.input{
				height: 480px;
				width: 418px;
				margin-top: 8px;
			}
			input{
				width: 350px;
				height: 50px;
				margin-left: 32px;
				margin-top: 15px;
				border: 1px solid #d6d6d6;
				outline: none;
			}
			input[type="button"]{
				background-color: #FF6700;
				border: none;
				color: white;
				cursor: pointer;
				margin-top: 20px;
			}
			.other{
				width: 350px;
				position: absolute;
				height: 80px;
				top: 0;
				left: 32px;
				top: 430px;
				border-top: 1px solid #d6d6d6;
				padding-top: 20px;
			}
			.other span{
				font-size: 28px;
				cursor: pointer;
				margin: 0 20px;
				
			}
			.other span:nth-child(2){color: #0098df;margin-left: 60px;}
			.other span:nth-child(3){color: #ff557f;font-size: 25px;}
			.other span:nth-child(4){color: #00adfd;font-size: 25px;}
			.other span:nth-child(5){color: #44cc00;font-size: 25px;}
			.tab1{
				display: block;
			}
			.tab2{
				width: 350px;
				height: 250px;
				text-align: center;
				position: absolute;
				display: none;
				left: 32px;
				top: 193px;
				
			}
			.footer{
				width: 100%;
				height: 80px;
				min-width: 1130px;
				color: #aaaaaa;
				font-size: 14px;
				text-align: center;
				padding-top: 100px;
			}
			.footer a{
				color: #939393;
				text-decoration: none;
				margin: 0 10px;
				font-weight: 500;
			}
			.footer a:hover{
				color: #333;
			}
			.active2{
				color: #333!important;
			}
			.check{
				width: 352px;
				height: 20px;
				font-size: 14px;
				margin-left: 32px;
				margin-top: 20px;
				line-height: 20px;
				color: #ff6700;
				display: none;
			}
			.check span:nth-child(1){
				color: white;
				font-weight:bold;
				padding: 0 8px;
				background-color: #FF6700;
				border-radius: 50%;
				margin-right: 5px;
				
			}
			.register{
				position: absolute;
				top: 320px;
				width: 410px;
				text-align: center;
				font-size: 14px;
			}
			.register span{
				color: #c6c6c6;
				margin: 0 5px;
			}
			.register a{
				color: #B0B0B0;
				text-decoration: none;
			}
			.register a:hover{
				color: #ff6700;
			}
		</style>
	</head>
	<body>
		<div id="box">
			<div class="title"><a href="index.html"></a></div>
			<div class="center">
				<div class="delicicous">
					<div class="login">
						<p class="method">
							<a href="#" style="margin-right: 40px;" class="active">账号登录</a><span>|</span>
							<a href="#" style="margin-left: 35px;">扫码登录</a>
						</p>
						<div class="tab1">
							<div class="input">
								<input type="text" name="" id="email" value="" placeholder="邮箱账号"/>
								<input type="password" name="" id="pas" value="" placeholder="密码"/>
								<div class="check">
									<span>!</span><span class="err"></span>
								</div>
								<input type="button" name="" id="bto" value="登录" />
							</div>
							<div class="register">
								<a href="/pass/register">立即注册</a><span>|</span><a href="">忘记密码?</a>
							</div>
							<div class="other">
								<span style="color: #BBBBBB;font-size: 14px;position: absolute;background-color: white;top: -10px;left: 113px;padding: 0 2px;cursor: default;">其他登录方式</span>
								<span class="iconfont icon-qq" title="QQ登录"></span>
								<span class="iconfont icon-weibo1" title="微博登录"></span>
								<span class="iconfont icon-zhifubao" title="支付宝登录"></span>
								<span class="iconfont icon-weixin" title="微信登录"></span>
							</div>
						</div>
						<div class="tab2">
							<img src="/public/img/log.png" >
							<p style="font-size: 14px;margin-top: 10px;color:#757575;">使用<span style="color: #ff6700;">小米商城APP</span>扫一扫</p>
							<p style="font-size: 14px;color:#757575;">小米手机可打开「设置」>「小米帐号」扫码登录</p>
						</div>
					</div>
				</div>
				
			</div>
			<div class="footer">
				<p><a href="" class="active2">简体</a>|
				<a href="">繁体</a>|
				<a href="">English</a>|
				<a href="">常见问题</a>|
				<a href="">隐私政策</a></p>	
				<p style="margin-top: 10px;">小米公司版权所有-京ICP备10046444-<img src="/public/img/ghs.png" >京公网安备11010802020134号-京ICP证110507号</p>
			</div>		
				
			
		</div>
		<script type="text/javascript">
			let chose = $('.method a');
			for(let i = 0 ; i < chose.length;i++){
				chose.eq(i).click(function(){
					$(this).attr('class','active');
					$(this).siblings().attr('class','');
					if(i == 0){
						$('.tab1').css('display','block');
						$('.tab2').css('display','none');
					}else{
						$('.tab2').css('display','block');
						$('.tab1').css('display','none');
					}
					return false;
				})
			}
			$('#bto').click(function(){
				console.log()
				let reg = /^[0-9a-zA-Z]{3,}@[0-9a-zA-Z]{1,10}\.(com|cn)$/;
				if($('#email').val() == ''){
					$('.check').css('display','block');
					$('.err').html('请输入邮箱');
				}else if($('#pas').val() == ''){
					$('.check').css('display','block');
					$('.err').html('请输入密码');
				}else if(!reg.test($('#email').val())){
					$('.check').css('display','block');
					$('.err').html('输入邮箱格式有误');
				}else{
					$.ajax({
						type:'post',
						url:'/login',
						data:{
							email:$('#email').val(),
							password:$('#pas').val()
						},
						success:function(data){
							if(data == "303"){
								$('.check').css('display','block');
								$('.err').html('该邮箱不存在');
							}else if(data == "404"){
								$('.check').css('display','block');
								$('.err').html('登录失败');
							}else if(data == "200"){
								let em = $('#email').val();
								history.go(-1)
							}else if(data = '100'){
								$('.check').css('display','block');
								$('.err').html('密码错误');
							}
						},
						error:function(err){
							$('.check').css('display','block');
							$('.err').html('服务器连接失败');
						}
					})
				}
			})
			for(let i = 0;i < 2;i++){
				$('input').eq(i).keydown(function(){
					if($('.check').css('display') == 'block'){
						$('.check').css('display','none');
					}
				})
			}
			
		</script>
	</body>
</html>
